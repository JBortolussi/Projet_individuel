{% extends "base.html" %}
{% load crispy_forms_filters %}

{% block title %}- Sign In {% endblock %}

{% block nav_button %}
    {# Sign Up button #}
    <li class="nav-item">
        <a href="{% url 'signup' %}" type="submit" class="btn btn-outline-warning">
            <i class="fa fa-user-plus align-middle" aria-hidden="true"></i>
            <span class="align-middle">Sign Up</span>
        </a>
    </li>
{% endblock %}

<!--This block is use in order to remove the line with path "Projet/..."-->
{% block to_remove_path %}{% endblock %}

{% block page %}
    <div class="row">
        <div class="col-sm-9 col-md-7 col-lg-5 mx-auto">
            <h4 class="text-center">Sign In</h4>
            <form method="post" action="{% url 'login' %}">
                {% csrf_token %}
                {{ form|crispy }}
                <button type="submit" class="btn btn-primary btn-block">
                    <i class="fa fa-sign-in-alt align-middle" aria-hidden="true"></i>
                    <span class="align-middle">Sign In</span>
                </button>
                <input type="hidden" name="next" value="{{ next }}">
            </form>
            <div class="text-center mt-3"><a href="{% url 'password_reset' %}">Forgot password?</a></div>
        </div>


    </div>


    {#    <div>#}
    {#        <h1>Se connecter</h1>#}
    {##}
    {#        {% if error %}#}
    {#            <p><strong>Utilisateur inconnu ou mauvais de mot de passe.</strong></p>#}
    {#        {% endif %}#}
    {##}
    {#        <!--connexion form with two columns-->#}
    {#        <form method="post" action={% url "connexion" %}>#}
    {#            {% csrf_token %}#}
    {##}
    {#            <!--display the username field-->#}
    {#            <div class="row">#}
    {#                <div class="col-sm-2">#}
    {#                    {{ form.username.label }}#}
    {#                </div>#}
    {#                <div class="col-sm-10">#}
    {#                    <div class="form-group" style="flex-grow: 1;">#}
    {#                        {{ form.username }}#}
    {#                    </div>#}
    {#                </div>#}
    {#            </div>#}
    {##}
    {#            <!--display the password field-->#}
    {#            <div class="row">#}
    {#                <div class="col-sm-2">#}
    {#                    {{ form.password.label }}#}
    {#                </div>#}
    {#                <div class="col-sm-10">#}
    {#                    <div class="form-group" style="flex-grow: 1;">#}
    {#                        {{ form.password }}#}
    {#                    </div>#}
    {#                </div>#}
    {#            </div>#}
    {#            <button type="submit" class="btn btn-primary">Connection</button>#}
    {#        </form>#}
    {##}
    {#        <p>#}
    {#            Si vous n'avez pas encore cre√© une compte, vous pouvez le faire en cliquant#}
    {#            <a href="{% url 'signup' %}">ici</a>#}
    {#        </p>#}
    {#    </div>#}
{% endblock %}
